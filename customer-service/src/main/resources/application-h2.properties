# H2 In-Memory Database Profile for Local Testing
spring.application.name=customer-service
server.port=3003

# H2 In-Memory Database
spring.datasource.url=jdbc:h2:mem:evdms_customer;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.format_sql=true

# HikariCP connection pool
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=20000

# H2 Console (for debugging)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Disable Flyway
spring.flyway.enabled=false

# RabbitMQ - DISABLED
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration

# JWT secret
security.jwt.secret=this-is-a-very-long-secret-key-for-jwt-token-validation-minimum-256-bits-required
security.jwt.accepted-roles=ADMIN,DEALER_MANAGER,DEALER_STAFF,USER

# Actuator
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

# Logging
logging.level.com.evdms.customerservice.service.JwtAuthenticationFilter=DEBUG
logging.level.com.evdms.customerservice.service.JwtUtil=DEBUG
logging.level.org.springframework.security=DEBUG
